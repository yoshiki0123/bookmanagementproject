{% extends "bookmanagementapp/base.html" %}

{% block title %}æ›¸ç±ä¸€è¦§{% endblock %}

{% block header %}
  <div class="pricing-header p-4 pb-md-5 mx-auto text-center">
    <h1 class="display-4 fw-bold text-primary">ğŸ“š æ›¸ç±ä¸€è¦§</h1>
    <p class="fs-5 text-muted mt-3">
      ã“ã“ã§ã¯ç ”ç©¶å®¤å†…ã«ã‚ã‚‹æ›¸ç±ã®ä¸€è¦§ã‚’è¡¨ç¤ºã§ãã¾ã™ã€‚<br>
      å€Ÿã‚ŠãŸã„æ›¸ç±ã‚„æ°—ã«ãªã‚‹æ›¸ç±ã®æ¤œç´¢ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚
    </p>
  </div>
{% endblock header %}

{% block content %}
  <!-- æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  -->
  <form class="row g-2 justify-content-center mt-4" method="get">
    <div class="col-auto">
      <input type="text" name="q" value="{{ q }}" placeholder="ã‚¿ã‚¤ãƒˆãƒ«ã§æ¤œç´¢"
              class="form-control form-control-lg">
    </div>
    <div class="col-auto">
      <button class="btn btn-primary btn-lg" type="submit">æ¤œç´¢</button>
    </div>
  </form>

  <div class="container py-4">
    {% if books_page %}
      <ul class="list-group">
        {% for book in books_page %}
          <li class="list-group-item">
            <div class="fw-semibold">{{ book.title }}</div>
            <div class="text-muted small">
              è‘—è€…: {{ book.author }} / ISBN: {{ book.isbn }}
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <div class="alert alert-info">ã¾ã æ›¸ç±ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</div>
    {% endif %}
  </div>

  <!-- ä¸‹éƒ¨ã®ãƒšãƒ¼ã‚¸é·ç§»ã®å®šç¾© -->
  <nav aria-label="ãƒšãƒ¼ã‚¸ãƒŠãƒ“" class="d-flex justify-content-center">
    <ul class="pagination">

        {% if books_page.has_previous %}
        <li class="page-item">
            <a class="page-link"
            href="?page={{ books_page.previous_page_number }}{% if q %}&q={{ q|urlencode }}{% endif %}">
            å‰ã¸
            </a>
        </li>
        {% else %}
        <li class="page-item disabled"><span class="page-link">å‰ã¸</span></li>
        {% endif %}

        <!-- ç°¡æ˜“: ç¾åœ¨ãƒšãƒ¼ã‚¸ã¨ç·ãƒšãƒ¼ã‚¸è¡¨ç¤º -->
        <li class="page-item disabled">
        <span class="page-link">
            {{ books_page.number }} / {{ books_page.paginator.num_pages }}
        </span>
        </li>

        {% if books_page.has_next %}
        <li class="page-item">
            <a class="page-link"
            href="?page={{ books_page.next_page_number }}{% if q %}&q={{ q|urlencode }}{% endif %}">
            æ¬¡ã¸
            </a>
        </li>
        {% else %}
        <li class="page-item disabled"><span class="page-link">æ¬¡ã¸</span></li>
        {% endif %}

    </ul>
  </nav>
{% endblock %}
